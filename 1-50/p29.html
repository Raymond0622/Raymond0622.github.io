<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Problem 29</title>
    <link rel="stylesheet" href="problems.css">
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

</head>
       
<body>
    <div class="topnav">
        <a href="../index.html">Home</a>
        <a href="../PE.html">Project Euler</a>
        <a href="../teach.html">Teaching</a>
        <a href="../proj.html">Projects</a>
        <a href="../gal.html"> Gallery</a>
    </div>
    <div>
        <h2>Problem 29: Distinct powers</h2>
        <div class="white">
            <p>
                Consider all integer combinations of ab for 2 ≤ a ≤ 5 and 2 ≤ b ≤ 5:
            </p>
            <p>
                2<sup>2</sup>=4, 2<sup>3</sup>=8, 2<sup>4</sup>=16, 2<sup>5</sup>=32 <br>
3<sup>2</sup>=9, 3<sup>3</sup>=27, 3<sup>4</sup>=81, 3<sup>5</sup>=243 <br>
4<sup>2</sup>=16, 3<sup>2</sup>=64, 4<sup>4</sup>=256, 4<sup>5</sup>=1024 <br>
5<sup>2</sup>=25, 5<sup>3</sup>=125, 5<sup>4</sup>4=625, 5<sup>5</sup>=3125 <br>
            </p>
            <p>
If they are then placed in numerical order, with any repeats removed, we get the following sequence of 15 distinct terms:
</p>
<p>
4, 8, 9, 16, 25, 27, 32, 64, 81, 125, 243, 256, 625, 1024, 3125
</p>
<p>
How many distinct terms are in the sequence generated by ab for 2 ≤ a ≤ 100 and 2 ≤ b ≤ 100?     
</p>     
        </div>
        <br>
        <h3>Algorthim:</h3>
        <p class="algo">
            This is a nice example of Principle of Inclusion and Exclusion. I won't go deep into 
            what it is, but essentially, it's a nice way of calcualting when overlaps occur
        </p>
        <p class="algo">
            Clearly, we can see thata 2^4 and 4^2 will overlap. The question is, how many of such
            overalsp exist?
        <p class="algo">
            Consider, a = 5, 6, 7, 10. The only overlaps that's possible is when a = 25,
            36, 49, 100. Notice that these are basically squares of the lower a's. Sure, cubes of
            these can overlap as well, but these exceed 100. Using a = 5, 6, 7, 10. There are exactly
            99 numbers that cna formed since (b = 2 through 100). But, 25^2 = 5^4. This overlaps with 5^4.
            So these a^2 powers go from 4 to 200 with b going from 2 to 100. The lower powers of these lower a's:
            $$ 2, 3, 4, 5, 6, 7, .... 100 $$
            While squares of a go:
            $$ 4, 6, 8, 10, 12 .... 200 $$
            How many overlaps are there? It's basically every multiples of 2 from 4 to 100, which is 
            49. This works for each a = 5, 6, 7, 10. Making total unique number: (198 - 49) * 4 = 576.
        </p>
        <p class="algo">
            Ok, How do we deal with 2, 3, 4, 8, 9? Consider 2, then 2 can overlap with
            2, 4, 8, 16, 32, 64. The powers of each of these in base 2 is :
            $$ 2: 2, 3, 4, 5, 6....100 $$
            $$ 4: 4, 6, 8, 10, 12, 14, 16, ... 200$$
            $$ 8: 6, 9, 12, 15, 18, 21 ... 300$$
            $$ 16: 8, 12, 16, 20, 24 ... 400$$
            $$ 32: 10, 15, 20, 25, 30 .. 500$$
            $$ 64: 12, 18, 24, 30, 36, 42 ... 600 $$
            The question we are asking is, how many unique numbers are there in this set?
        </p>
        <p class="algo">
            It might be easier with a venn diagram only showing numbers 1-12: <br>
            <br>
            <img src="../images/vennp29.png" width="500" height="500">
            <br>
            <br>
            To calculatae the unique numbers, we can first combine the total number of elements.
            Then we look at what any two sectors have in common. However, if we subtract each of those 
            common sectors, we will have taken 6, 12 away from the answer. See for yourself.
            Hence, we must add what all three common sectors have in common. This is basically the essence
            of Principle of Inclusion and Exclusion (PIE). We can extend this to higher orders.
        </p>
        <p class="algo">
            So for powers of 2, we have total of 99 *6 elements (6 powers)
            There are 6 choose 2 ways of choosing 2 sectors, and their group size is: 436
            And now three sectors common: 242
            And four: 88
            And five: 17
            And size: 1 (LCM of 2, 3, 4, 5, 6 = 60)
            For a total of :
            $$ 99*6 -436 + 242 - 88 + 17 - 1 = 328
        </p>
        <p class="algo">
            We can do same thing for 3. 4, 8, 9 are included already since they are powers of 2, 3
        </p>
        <p class="algo">
            We know that every a>10 will have 0 overlaps since a^2 > 100. So, 
            a from 11 to 100 (have to remove 16, 25, 36, 49, etc.. for a 
            total of 81) will have full b 2:100 for a totala of 99 * 81 = 8019
        </p>
        <h3>Code:</h3>
        <div class="code">
            <script src="https://gist.github.com/Raymond0622/465fe8e6bebdb9753e1e2cdba3e4e47a.js"></script>           
         </div>
                     <h3>Result:</h3>

            <div>
                <center>
                    <code class="ans">
                        Answer: 9183
                        <br>Runtime: n/aa
                    </code>
                </center>
            </div>
        </div>
        <div class="next">
            <a class="first" href="p28.html">&#60&#60 Problem 28</a>
            <a class="second" href="p30.html">Problem 30 &#62&#62</a>

        </div>
    </div>
</body> 